<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="signin.css">
  <title>Sign in</title>
</head>
<body>
  
<form style="border:1px solid #ccc;width:30%;margin:auto;background-color:lightgray;" action="" onsubmit="return requestSignIn()">
  <div class="container">
    <h1 style="color:black;">Sign In</h1>
    
    <hr>

    <label for="email" style="color:black;"><b>Email</b></label>
    <input class="signin" type="email" placeholder="Enter Email" name="email" maxlength="50" required>
    <p id="signInError" style="font-size:10px;color:red;margin-top:0px;text-align:right;"></p>

    <label for="psw" style="color:black;"><b>Password</b></label>
    <input class="signin" type="password" placeholder="Enter Password" name="psw" minlength="6" maxlength="30" required>
    <p id="signInError" style="font-size:10px;color:red;margin-top:0px;text-align:right;"></p>
    
    <label style="color:black;">
      <input class="signin" type="checkbox" checked="checked" name="remember" style="margin-bottom:15px;"> Remember me
    </label>
    


    <div class="clearfix">

      <button type="submit" class="loginbtn">Log In</button>
    </div>
  </div>
</form>
<div class="footer">
  <h2>made by GET HIGH TEAM</h2>
</div>
<script src="requestor.js"></script>
<script>
  function requestSignIn() {
    let signInData = document.getElementsByClassName("signin");
    let signInObj = {
      Username: signInData[0].value,
      Password: signInData[1].value,
      Remember: signInData[2].value
    };
    requestData(serverURL + "signin", JSON.stringify(signInObj), responseSignIn);
    return false;
  }
  
  function responseSignIn(responseText) {
    let errorData = document.getElementById("signInError");
    let isMatch = JSON.parse(responseText).Match;
    if (!isMatch) {
      errorData.innerHTML = "Incorrect email or password!";
      return;
    }
    else errorData.innerHTML = "";
    location.href = 'index.html';
  }
</script>
</body>
</html>